<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Тест</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .question { margin-bottom: 20px; }
        .options { margin-left: 20px; }
        button { padding: 10px 20px; margin-top: 20px; }
        #result { margin-top: 20px; font-weight: bold; }
        .wrong-answer { color: red; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Тест</h1>
    <div id="quiz"></div>
    <button onclick="checkAnswers()">Перевірити відповіді</button>
    <div id="result"></div>

    <script>
        // Список питань (без 20-го)
        const quiz = [
            { question: "I. Що таке пухлина?", options: ["Порушення обміну речовин, що супроводжується порушенням структури і функції клітин, тканин і органів", "Місцеве омертвіння клітин, тканин, частини органу", "Порушення притоку крові при порушенні її відтоку", "Надмірний розвиток грануляційної тканини", "Надмірне нерегульоване розростання недозрілих недиференційованих клітин"], correct: [4] },
            { question: "2. Який ріст характерний для злоякісних пухлин?", options: ["Повільний", "Експансивний", "Інфільтративний", "Ендофітний", "Екзофітний"], correct: [2] },
            { question: "III. Що таке малігнізація?", options: ["Відновлення пухлини на місці видалення", "Поширення ракових клітин від основного вогнища", "Переродження доброякісних пухлин в злоякісну", "Розпад пухлини", "Організація пухлин"], correct: [2] },
            { question: "IV. Який переважний шлях метастазування злоякісних пухлин?", options: ["Лімфогенний", "Гематогенний", "Внутрішньоорганний", "Тільки регіонарно", "З током міжклітинної і цереброспінальної рідини"], correct: [0, 1] },
            { question: "5. Вкажіть джерело розвитку аденоми", options: ["Зроговілий епітелій", "М’язова тканина", "Епітелій слизових оболонок", "Сполучна тканина", "Епітелій залозистих тканин"], correct: [2] },
            { question: "6. Вкажіть основні ознаки морфологічної анаплазії", options: ["Перважання гліколітичних процесів, поглинання глюкози, амінокислот, ацидоз", "Ядро і ядерце збільшене, неправильної форми, багато хроматину, неправильний мітоз", "Розвиток дозрілих клітин з порушенням взаємовідношення елементів основної тканини", "Розвиток молодих недозрілих клітин, які не здатні виконувати свою функцію", "Пухлина має відмінну будову, може руйнувати основну тканину, дає метастази"], correct: [1, 3] },
            { question: "7. Вкажіть, що таке метастази?", options: ["Частини пухлини, що розпалась", "Пухлини, що відновились на місці видаленої пухлини", "«Дочірні» пухлини, які утворились з клітин основної пухлини, що відшнурувались від неї", "Доброякісні пухлини, що переродились в злоякісні", "Внутріклітинні включення в клітинах пухлини"], correct: [2] },
            { question: "8. Як називаються злоякісні пухлини із сполучної тканини?", options: ["Меланоми", "Аденоми", "Лейоміоми", "Фіброми", "Фібросаркоми"], correct: [4] },
            { question: "9. Які морфологічні утворення характерні для плоскоклітинного раку?", options: ["«Ракові перлини»", "«Перстневидні» ракові клітини", "Утворення остеобластних клітин з великою кількістю мітозів", "Утворює вузол щільної консистенції у капсулі", "Розгалужені сосочки на широкій або вузькій основі"], correct: [0] },
            { question: "10. Назвіть джерело розвитку рабдоміоми", options: ["Гладка м’язова тканина", "Зроговілий епітелій", "Залозиста тканина", "Поперечно-посмугована тканина", "Сполучна тканина"], correct: [3] },
            { question: "11. Вкажіть процеси, що лежать в основі біохімічної анаплазії", options: ["Гідратація клітин", "Коагуляція і денатурація білка", "Анаеробний гліколіз, поглинання глюкози і амінокислот, ацидоз", "Жирова інфільтрація клітин", "Порушується співвідношення окремих елементів тканин"], correct: [2] },
            { question: "12. Що відноситься до передпухлинних процесів?", options: ["Дистрофія і атрофія", "Дисплазія і метаплазія", "Тривало існуючий дефект тканини", "Склероз", "Все вище перераховане"], correct: [1, 2] },
            { question: "13. Назвіть типи будови пухлини", options: ["Експансивний, інфільтративний", "Органоїдний, гістоїдний", "Ендофітний, екзофітний", "Мультицентричний, моноцентричний", "Поліпозний, грибовидний, кістозний"], correct: [1] },
            { question: "14. Як називається доброякісна пухлина із сполучної тканини?", options: ["Фіброаденома", "Фібросаркома", "Фіброма", "Папілома", "Фіброзний рак"], correct: [2] },
            { question: "15. Назвіть характерні морфологічні ознаки саркоми", options: ["Утворення «ракових перлин»", "Розвивається із меланоцитів, в клітинах міститься пігмент меланін", "Мають вигляд сосочків на товстій чи тонкій основі, більш виражені строма", "Розвиваються із дозрілої волокнистої структури, тканинний атипізм, неправильне, хаотичне розташування сполучнотканинних волокон", "Виражений клітинний атипізм, гематогенне метастазування, виражений злоякісний перебіг, на розрізі нагадує м’ясо риби, розвивається із мезенхімальної тканини"], correct: [4] },
            { question: "16. Зазначте, що таке тканинний атипізм?", options: ["Втрата клітинами здатності до диференціювання і дозрівання", "Переродження доброякісної пухлини в злоякісну", "Порушення взаємовідношення дозрілих повноцінних елементів тканини", "Порушення процесу регенерації, розвиток дисплазії та метаплазії", "Надмірна проліферація клітин"], correct: [2] },
            { question: "17. Як називається доброякісна пухлина із жирової тканини?", options: ["Ліпома", "Фіброма", "Гемангіома", "Аденокарцинома", "Ліпосаркома"], correct: [0] },
            { question: "18. Назвіть стадії формування пухлини", options: ["Альтерація, ексудація, проліферація", "Порушення регенерації, надлишкова проліферація і дисплазія, утворення атипових клітин, прогресуючий ріст пухлини", "Дисплазія, інфільтрація, кахексія", "Формування, ріст, дозрівання, розпад", "Ініціація, промоція, трансформація, прогресія"], correct: [4] },
            { question: "19. Вкажіть джерело розвитку остеосаркоми", options: ["Елементи м’язової тканини", "Елементи кісткової тканини", "Елементи хрящевої тканини", "Елементи судин", "Елементи жирової тканини"], correct: [1] },
            { question: "21. Що є характерним для папілом?", options: ["Розвивається із сполучної тканини", "Розвивається із зроговілого епітелію", "Росте у вигляді сосочків на вузькій чи широкій основі", "Утворює вузли округлої форми, оточені капсулою", "Дифузно проростає в основну тканину, швидко прогресує, дає метастази"], correct: [1, 2] },
            { question: "22. Вкажіть, як називаються речовини, що викликають утворення злоякісних пухлин?", options: ["Пірогени", "Канцерогени", "Алергени", "Анаболічні речовини", "Інгібітори"], correct: [1] },
            { question: "23. В чому полягає суть механізму метастазування?", options: ["Посилення процесів гліколізу", "Зниження рівня Са в пухлині, послаблення міжклітинних зв’язків і відшнуровування клітин", "Пригнічення імунної системи", "Розпад пухлини", "Нагромадження іонів К"], correct: [1] },
            { question: "24. Вкажіть захворювання, що відносяться до передпухлинних процесів?", options: ["Хронічний атрофічний гастрит", "Хронічний гломерулонефрит", "Лейкоплакія", "Гепатит", "Ерозія шийки матки"], correct: [0, 2, 4] },
            { question: "25. Вкажіть пухлини, що відносяться до мезенхімальних пухлин?", options: ["Рак", "Аденома", "Гемангіома", "Фібросаркома", "Міома"], correct: [2, 3, 4] }
        ];

        // Генерація тесту
        function generateQuiz() {
            const quizDiv = document.getElementById('quiz');
            quiz.forEach((item, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `<h3>${item.question}</h3>`;
                
                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'options';
                item.options.forEach((option, optIndex) => {
                    const label = document.createElement('label');
                    label.innerHTML = `<input type="checkbox" name="q${index}" value="${optIndex}"> ${option}<br>`;
                    optionsDiv.appendChild(label);
                });
                
                questionDiv.appendChild(optionsDiv);
                quizDiv.appendChild(questionDiv);
            });
        }

        // Перевірка відповідей
        function checkAnswers() {
            let correctCount = 0;
            let wrongAnswers = [];

            quiz.forEach((item, index) => {
                const selected = Array.from(document.querySelectorAll(`input[name="q${index}"]:checked`)).map(input => parseInt(input.value));
                const correctSet = new Set(item.correct);
                const selectedSet = new Set(selected);
                
                if (setsEqual(correctSet, selectedSet)) {
                    correctCount++;
                } else {
                    const correctText = item.correct.map(i => item.options[i]).join(', ');
                    wrongAnswers.push(`Питання ${index + 1}: ${item.question} - Правильна відповідь: ${correctText}`);
                }
            });

            const totalQuestions = quiz.length;
            const percentage = (correctCount / totalQuestions) * 100;
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `
                Тест завершено!<br>
                Правильних відповідей: ${correctCount} з ${totalQuestions}<br>
                Неправильних відповідей: ${totalQuestions - correctCount}<br>
                Відсоток правильних відповідей: ${percentage.toFixed(1)}%
            `;

            if (wrongAnswers.length > 0) {
                resultDiv.innerHTML += '<br><br>Неправильні відповіді:';
                wrongAnswers.forEach(wrong => {
                    resultDiv.innerHTML += `<div class="wrong-answer">${wrong}</div>`;
                });
            }
        }

        // Порівняння множин
        function setsEqual(setA, setB) {
            if (setA.size !== setB.size) return false;
            for (let item of setA) {
                if (!setB.has(item)) return false;
            }
            return true;
        }

        // Ініціалізація тесту
        window.onload = generateQuiz;
    </script>
</body>
</html>
